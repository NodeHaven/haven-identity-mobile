// Copyright (C) 2018 ConsenSys AG
//
// This file is part of uPort Mobile App.
//
// uPort Mobile App is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// uPort Mobile App is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with uPort Mobile App.  If not, see <http://www.gnu.org/licenses/>.
//
// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":false,"inputs":[{"name":"_proposedUserKey","type":"address"}],"name":"collectedSignatures","outputs":[{"name":"signatures","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"proposedUserKey","type":"address"}],"name":"signUserChange","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"newUserKey","type":"address"}],"name":"changeUserKey","outputs":[],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"delegates","outputs":[{"name":"deletedAfter","type":"uint256"},{"name":"pendingUntil","type":"uint256"},{"name":"proposedUserKey","type":"address"}],"type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"delegateAddresses","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[],"name":"neededSignatures","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"getAddresses","outputs":[{"name":"","type":"address[]"}],"type":"function"},{"constant":false,"inputs":[{"name":"delegatesToRemove","type":"address[]"},{"name":"delegatesToAdd","type":"address[]"}],"name":"replaceDelegates","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"controller","outputs":[{"name":"","type":"address"}],"type":"function"},{"inputs":[{"name":"_controller","type":"address"},{"name":"_delegates","type":"address[]"}],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"action","type":"string"},{"indexed":false,"name":"initiatedBy","type":"address"}],"name":"RecoveryEvent","type":"event"}],
    binary: "6060604052604051610c91380380610c9183398101604052805160805190910160008054600160a060020a031916831781555b815181101561007857600180548082018083558281838015829011610089576000838152602090206100899181019083015b8082111561015a5760008155600101610064565b505050610b338061015e6000396000f35b5050509190906000526020600020900160008484815181101561000257602081810283018101518554600160a060020a0319161790945560408051606081018252651cae8c13e0008152948501849052840183905281519394506002938110156100025790602001906020020151600160a060020a03168152602001908152602001600020600050600082015181600001600050556020820151816001016000505560408201518160020160006101000a815481600160a060020a0302191690830217905550905050600101610032565b509056606060405236156100775760e060020a600035046323d44dee8114610079578063245d13141461011c5780633f31281a14610176578063587cde1e1461018757806364bc82c3146101b8578063943e170d146101fe578063a39fac121461027f578063e71e592b146102ed578063f77c4791146104c4575b005b6104d66004355b6000805b6001548110156105765761057c600260005060006001600050848154811015610002576000918252602080832090910154600160a060020a039081168452838201949094526040805193810183206060850182528054855260018101549285019290925260029190910154909316928201929092529061093a825b600042826000015111801561095457505060208101514211610171565b61007760043533600160a060020a03908116600090815260026020818152604080519381902060608501825280548552600181015492850192909252910154909216918101919091526105fc905b8051600014155b919050565b6100776004355b60006106a8610202565b6104e860043560026020819052600091825260409091209081015481546001929092015490600160a060020a031683565b61050f60043560018054829081101561000257506000527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60154600160a060020a031681565b6104d65b600080805b60015481101561081f5761082c600260005060006001600050848154811015610002576000918252602080832090910154600160a060020a03908116845283820194909452604080519381019092206060840183528054845260018101549184019190915260020154909216918101919091526100ff565b61052c6040805160208181018352600082528251600180548084028301840190955284825292939092918301828280156102e357602002820191906000526020600020905b8154600160a060020a03168152600191909101906020018083116102c4575b5050505050905090565b604080516004803580820135602081810285810182019096528185526100779593946024949093850192918291908501908490808284375050604080518735808a013560208181028481018201909552818452989a9960449993985091909101955093508392508501908490808284375094965050505050505060008054604080517f1c1c228900000000000000000000000000000000000000000000000000000000815290518392600160a060020a031691631c1c2289916004828101926020929190829003018187876161da5a03f1156100025750506040515133600160a060020a039081169116141590506108b057600091505b83518210156108b65761092684838151811015610002579060200190602002015142600060009054906101000a9004600160a060020a0316600160a060020a0316631ec9f7b56040518160e060020a0281526004018090506020604051808303816000876161da5a03f1156100025750506040805151600160a060020a03851660009081526002602052919091205492019091111590506106a557600160a060020a0381166000908152600260205260409020600101544290111561095b5760406000908120600160a060020a03831690915260026020524290556106a5565b61050f600054600160a060020a031681565b60408051918252519081900360200190f35b604080519384526020840192909252600160a060020a031682820152519081900360600190f35b60408051600160a060020a03929092168252519081900360200190f35b60405180806020018281038252838181518152602001915080519060200190602002808383829060006004602084601f0104600302600f01f1509050019250505060405180910390f35b50919050565b80156105e7575082600160a060020a03166002600050600060016000508481548110156100025750507fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6840154600160a060020a039081168252602083905260409091209091015416145b156105f457600191909101905b600101610084565b156106a55733600160a060020a03166000908152600260208190526040909120018054600160a060020a031916821790556106368161017d565b6040805133600160a060020a03166020820152818152600e818301527f7369676e557365724368616e6765000000000000000000000000000000000000606082015290517fea8e84a162c4602ea0c61acf85fa1242db8ce550e7a448d613e3c7dff2f067939181900360800190a15b50565b6106b183610080565b1061081b5760408051600080547fc998e9dd000000000000000000000000000000000000000000000000000000008352600160a060020a038681166004850152935193169263c998e9dd926024818101939291829003018183876161da5a03f11561000257505050600090505b60015481101561081b5742600260005060006001600050848154811015610002576000918252602080832090910154600160a060020a0316835282019290925260400190206001015411156107b75742600260005060006001600050848154811015610002579060005260206000209001600090546101009190910a9004600160a060020a031681526020810191909152604001600020555b60018054600291600091849081101561000257507fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6840154600160a060020a03168252602083905260409091209091018054600160a060020a03191690550161071e565b5050565b5060029004600101919050565b1561083957600191909101905b600101610207565b6040805133600160a060020a031660208201528181526010818301527f7265706c61636544656c65676174657300000000000000000000000000000000606082015290517fea8e84a162c4602ea0c61acf85fa1242db8ce550e7a448d613e3c7dff2f067939181900360800190a15b50505050565b5060005b825181101561084157610932838281518110156100025790602001906020020151600160a060020a03818116600090815260026020818152604080519381902060608501825280548552600181015492850192909252910154909216918101919091526109d19061016a565b600191909101906103e4565b6001016108ba565b801561095457508160400151600160a060020a0316600014155b9050610171565b42600060009054906101000a9004600160a060020a0316600160a060020a0316631ec9f7b56040518160e060020a0281526004018090506020604051808303816000876161da5a03f1156100025750506040805151600160a060020a038516600090815260026020529190912092019091555050565b1580156109e15750600154600f90105b156106a557606060405190810160405280651cae8c13e0008152602001600060009054906101000a9004600160a060020a0316600160a060020a0316631ec9f7b56040518160e060020a0281526004018090506020604051808303816000876161da5a03f11561000257505050604051805190602001504201815260200160008152602001506002600050600083600160a060020a03168152602001908152602001600020600050600082015181600001600050556020820151816001016000505560408201518160020160006101000a815481600160a060020a030219169083021790555090505060016000508054806001018281815481835581811511610b0d57818360005260206000209182019101610b0d91905b80821115610b2f5760008155600101610af9565b5050506000928352506020909120018054600160a060020a0319169091179055565b509056",
    unlinked_binary: "6060604052604051610c91380380610c9183398101604052805160805190910160008054600160a060020a031916831781555b815181101561007857600180548082018083558281838015829011610089576000838152602090206100899181019083015b8082111561015a5760008155600101610064565b505050610b338061015e6000396000f35b5050509190906000526020600020900160008484815181101561000257602081810283018101518554600160a060020a0319161790945560408051606081018252651cae8c13e0008152948501849052840183905281519394506002938110156100025790602001906020020151600160a060020a03168152602001908152602001600020600050600082015181600001600050556020820151816001016000505560408201518160020160006101000a815481600160a060020a0302191690830217905550905050600101610032565b509056606060405236156100775760e060020a600035046323d44dee8114610079578063245d13141461011c5780633f31281a14610176578063587cde1e1461018757806364bc82c3146101b8578063943e170d146101fe578063a39fac121461027f578063e71e592b146102ed578063f77c4791146104c4575b005b6104d66004355b6000805b6001548110156105765761057c600260005060006001600050848154811015610002576000918252602080832090910154600160a060020a039081168452838201949094526040805193810183206060850182528054855260018101549285019290925260029190910154909316928201929092529061093a825b600042826000015111801561095457505060208101514211610171565b61007760043533600160a060020a03908116600090815260026020818152604080519381902060608501825280548552600181015492850192909252910154909216918101919091526105fc905b8051600014155b919050565b6100776004355b60006106a8610202565b6104e860043560026020819052600091825260409091209081015481546001929092015490600160a060020a031683565b61050f60043560018054829081101561000257506000527fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf60154600160a060020a031681565b6104d65b600080805b60015481101561081f5761082c600260005060006001600050848154811015610002576000918252602080832090910154600160a060020a03908116845283820194909452604080519381019092206060840183528054845260018101549184019190915260020154909216918101919091526100ff565b61052c6040805160208181018352600082528251600180548084028301840190955284825292939092918301828280156102e357602002820191906000526020600020905b8154600160a060020a03168152600191909101906020018083116102c4575b5050505050905090565b604080516004803580820135602081810285810182019096528185526100779593946024949093850192918291908501908490808284375050604080518735808a013560208181028481018201909552818452989a9960449993985091909101955093508392508501908490808284375094965050505050505060008054604080517f1c1c228900000000000000000000000000000000000000000000000000000000815290518392600160a060020a031691631c1c2289916004828101926020929190829003018187876161da5a03f1156100025750506040515133600160a060020a039081169116141590506108b057600091505b83518210156108b65761092684838151811015610002579060200190602002015142600060009054906101000a9004600160a060020a0316600160a060020a0316631ec9f7b56040518160e060020a0281526004018090506020604051808303816000876161da5a03f1156100025750506040805151600160a060020a03851660009081526002602052919091205492019091111590506106a557600160a060020a0381166000908152600260205260409020600101544290111561095b5760406000908120600160a060020a03831690915260026020524290556106a5565b61050f600054600160a060020a031681565b60408051918252519081900360200190f35b604080519384526020840192909252600160a060020a031682820152519081900360600190f35b60408051600160a060020a03929092168252519081900360200190f35b60405180806020018281038252838181518152602001915080519060200190602002808383829060006004602084601f0104600302600f01f1509050019250505060405180910390f35b50919050565b80156105e7575082600160a060020a03166002600050600060016000508481548110156100025750507fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6840154600160a060020a039081168252602083905260409091209091015416145b156105f457600191909101905b600101610084565b156106a55733600160a060020a03166000908152600260208190526040909120018054600160a060020a031916821790556106368161017d565b6040805133600160a060020a03166020820152818152600e818301527f7369676e557365724368616e6765000000000000000000000000000000000000606082015290517fea8e84a162c4602ea0c61acf85fa1242db8ce550e7a448d613e3c7dff2f067939181900360800190a15b50565b6106b183610080565b1061081b5760408051600080547fc998e9dd000000000000000000000000000000000000000000000000000000008352600160a060020a038681166004850152935193169263c998e9dd926024818101939291829003018183876161da5a03f11561000257505050600090505b60015481101561081b5742600260005060006001600050848154811015610002576000918252602080832090910154600160a060020a0316835282019290925260400190206001015411156107b75742600260005060006001600050848154811015610002579060005260206000209001600090546101009190910a9004600160a060020a031681526020810191909152604001600020555b60018054600291600091849081101561000257507fb10e2d527612073b26eecdfd717e6a320cf44b4afac2b0732d9fcbe2b7fa0cf6840154600160a060020a03168252602083905260409091209091018054600160a060020a03191690550161071e565b5050565b5060029004600101919050565b1561083957600191909101905b600101610207565b6040805133600160a060020a031660208201528181526010818301527f7265706c61636544656c65676174657300000000000000000000000000000000606082015290517fea8e84a162c4602ea0c61acf85fa1242db8ce550e7a448d613e3c7dff2f067939181900360800190a15b50505050565b5060005b825181101561084157610932838281518110156100025790602001906020020151600160a060020a03818116600090815260026020818152604080519381902060608501825280548552600181015492850192909252910154909216918101919091526109d19061016a565b600191909101906103e4565b6001016108ba565b801561095457508160400151600160a060020a0316600014155b9050610171565b42600060009054906101000a9004600160a060020a0316600160a060020a0316631ec9f7b56040518160e060020a0281526004018090506020604051808303816000876161da5a03f1156100025750506040805151600160a060020a038516600090815260026020529190912092019091555050565b1580156109e15750600154600f90105b156106a557606060405190810160405280651cae8c13e0008152602001600060009054906101000a9004600160a060020a0316600160a060020a0316631ec9f7b56040518160e060020a0281526004018090506020604051808303816000876161da5a03f11561000257505050604051805190602001504201815260200160008152602001506002600050600083600160a060020a03168152602001908152602001600020600050600082015181600001600050556020820151816001016000505560408201518160020160006101000a815481600160a060020a030219169083021790555090505060016000508054806001018281815481835581811511610b0d57818360005260206000209182019101610b0d91905b80821115610b2f5760008155600101610af9565b5050506000928352506020909120018054600160a060020a0319169091179055565b509056",
    address: "0x41682e1a91dc95d7d29c7b0e3aac924764b9a2bd",
    generated_with: "2.0.9",
    contract_name: "RecoveryQuorum"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("RecoveryQuorum error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("RecoveryQuorum error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("RecoveryQuorum error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("RecoveryQuorum error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.RecoveryQuorum = Contract;
  }

})();
