// Copyright (C) 2018 ConsenSys AG
//
// This file is part of uPort Mobile App.
//
// uPort Mobile App is free software: you can redistribute it and/or modify
// it under the terms of the GNU General Public License as published by
// the Free Software Foundation, either version 3 of the License, or
// (at your option) any later version.
//
// uPort Mobile App is distributed in the hope that it will be useful,
// but WITHOUT ANY WARRANTY; without even the implied warranty of
// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
// GNU General Public License for more details.
//
// You should have received a copy of the GNU General Public License
// along with uPort Mobile App.  If not, see <http://www.gnu.org/licenses/>.
//
// Factory "morphs" into a Pudding class.
// The reasoning is that calling load in each context
// is cumbersome.

(function() {

  var contract_data = {
    abi: [{"constant":true,"inputs":[],"name":"proposedRecoveryKey","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"userKey","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"proposedControllerPendingUntil","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"longTimeLock","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"proposedUserKey","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"proposedUserKeyPendingUntil","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":true,"inputs":[],"name":"version","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[{"name":"_proposedController","type":"address"}],"name":"signControllerChange","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_proposedRecoveryKey","type":"address"}],"name":"signRecoveryChange","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"changeController","outputs":[],"type":"function"},{"constant":false,"inputs":[],"name":"changeUserKey","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"recoveryKey","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":false,"inputs":[{"name":"_recoveryKey","type":"address"}],"name":"changeRecoveryFromRecovery","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_userKey","type":"address"}],"name":"changeUserKeyFromRecovery","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"_proposedUserKey","type":"address"}],"name":"signUserKeyChange","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"proposedRecoveryKeyPendingUntil","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"constant":false,"inputs":[],"name":"changeRecovery","outputs":[],"type":"function"},{"constant":false,"inputs":[{"name":"destination","type":"address"},{"name":"value","type":"uint256"},{"name":"data","type":"bytes"}],"name":"forward","outputs":[],"type":"function"},{"constant":true,"inputs":[],"name":"proxy","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"proposedController","outputs":[{"name":"","type":"address"}],"type":"function"},{"constant":true,"inputs":[],"name":"shortTimeLock","outputs":[{"name":"","type":"uint256"}],"type":"function"},{"inputs":[{"name":"proxyAddress","type":"address"},{"name":"_userKey","type":"address"},{"name":"_longTimeLock","type":"uint256"},{"name":"_shortTimeLock","type":"uint256"}],"type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"name":"action","type":"string"},{"indexed":false,"name":"initiatedBy","type":"address"}],"name":"RecoveryEvent","type":"event"}],
    binary: "6060604052604051608080610757833960e06040529051905160a05160c051600160008190558054600160a060020a0319908116861790915560028054821685179055600a829055600b8390556005805490911633179055505050506106ee806100696000396000f3606060405236156100fb5760e060020a600035046309b8f77a81146100fd5780631c1c22891461010f5780631de0e877146101215780631ec9f7b51461012a57806334c7dcf8146101335780634893ed5b1461014557806354fd4d501461014e5780637a5d5345146101575780637ab0b998146101ef57806384191f62146102865780638ac0eef91461032657806397905a88146103cd578063a08df770146103df578063c998e9dd14610412578063cbd2c73b14610451578063d1c484f6146104e8578063d233fc0b146104f1578063d7f31eb91461053e578063ec55688914610670578063f60edb0e14610682578063f66c669114610694575b005b61069d600654600160a060020a031681565b61069d600254600160a060020a031681565b6106ba60095481565b6106ba600b5481565b61069d600354600160a060020a031681565b6106ba60045481565b6106ba60005481565b6100fb600435600254600160a060020a039081163390911614156101ec57600b54420160095560088054600160a060020a031916821790556040805133600160a060020a031660208201528181526014818301527f7369676e436f6e74726f6c6c65724368616e6765000000000000000000000000606082015290516000805160206106ce8339815191529181900360800190a15b50565b6100fb600435600254600160a060020a039081163390911614156101ec57600b54420160075560068054600160a060020a031916821790556040805133600160a060020a031660208201528181526012818301527f7369676e5265636f766572794368616e67650000000000000000000000000000606082015290516000805160206106ce8339815191529181900360800190a150565b6100fb60095442901080156102a75750600854600160a060020a0316600014155b156106cc57600154600854604080517f1a695230000000000000000000000000000000000000000000000000000000008152600160a060020a03928316600482015290519290911691631a69523091602481810192600092909190829003018183876161da5a03f115610002575050600854600160a060020a03169050ff5b6100fb60045442901080156103475750600354600160a060020a0316600014155b156106cc576003805460028054600160a060020a03838116600160a060020a0319928316179092559190911690915560408051339092166020830152808252600d828201527f6368616e6765557365724b6579000000000000000000000000000000000000006060830152516000805160206106ce8339815191529181900360800190a1565b61069d600554600160a060020a031681565b6100fb600435600554600160a060020a039081163390911614156101ec5760058054600160a060020a0319168217905550565b6100fb600435600554600160a060020a039081163390911614156101ec5760038054600160a060020a0319908116909155600280549091168217905550565b6100fb600435600254600160a060020a039081163390911614156101ec57600a54420160045560038054600160a060020a031916821790556040805133600160a060020a031660208201528181526011818301527f7369676e557365724b65794368616e6765000000000000000000000000000000606082015290516000805160206106ce8339815191529181900360800190a150565b6106ba60075481565b6100fb60075442901080156105125750600654600160a060020a0316600014155b156106cc576006805460058054600160a060020a0319908116600160a060020a03841617909155169055565b604080516020600460443581810135601f81018490048402850184019095528484526100fb94823594602480359560649492939190920191819084018382808284375094965050505050505060025433600160a060020a039081169116141561066b57600160009054906101000a9004600160a060020a0316600160a060020a031663d7f31eb98484846040518460e060020a0281526004018084600160a060020a03168152602001838152602001806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156106495780820380516001836020036101000a031916815260200191505b509450505050506000604051808303816000876161da5a03f115610002575050505b505050565b61069d600154600160a060020a031681565b61069d600854600160a060020a031681565b6106ba600a5481565b60408051600160a060020a03929092168252519081900360200190f35b60408051918252519081900360200190f35b56ea8e84a162c4602ea0c61acf85fa1242db8ce550e7a448d613e3c7dff2f06793",
    unlinked_binary: "6060604052604051608080610757833960e06040529051905160a05160c051600160008190558054600160a060020a0319908116861790915560028054821685179055600a829055600b8390556005805490911633179055505050506106ee806100696000396000f3606060405236156100fb5760e060020a600035046309b8f77a81146100fd5780631c1c22891461010f5780631de0e877146101215780631ec9f7b51461012a57806334c7dcf8146101335780634893ed5b1461014557806354fd4d501461014e5780637a5d5345146101575780637ab0b998146101ef57806384191f62146102865780638ac0eef91461032657806397905a88146103cd578063a08df770146103df578063c998e9dd14610412578063cbd2c73b14610451578063d1c484f6146104e8578063d233fc0b146104f1578063d7f31eb91461053e578063ec55688914610670578063f60edb0e14610682578063f66c669114610694575b005b61069d600654600160a060020a031681565b61069d600254600160a060020a031681565b6106ba60095481565b6106ba600b5481565b61069d600354600160a060020a031681565b6106ba60045481565b6106ba60005481565b6100fb600435600254600160a060020a039081163390911614156101ec57600b54420160095560088054600160a060020a031916821790556040805133600160a060020a031660208201528181526014818301527f7369676e436f6e74726f6c6c65724368616e6765000000000000000000000000606082015290516000805160206106ce8339815191529181900360800190a15b50565b6100fb600435600254600160a060020a039081163390911614156101ec57600b54420160075560068054600160a060020a031916821790556040805133600160a060020a031660208201528181526012818301527f7369676e5265636f766572794368616e67650000000000000000000000000000606082015290516000805160206106ce8339815191529181900360800190a150565b6100fb60095442901080156102a75750600854600160a060020a0316600014155b156106cc57600154600854604080517f1a695230000000000000000000000000000000000000000000000000000000008152600160a060020a03928316600482015290519290911691631a69523091602481810192600092909190829003018183876161da5a03f115610002575050600854600160a060020a03169050ff5b6100fb60045442901080156103475750600354600160a060020a0316600014155b156106cc576003805460028054600160a060020a03838116600160a060020a0319928316179092559190911690915560408051339092166020830152808252600d828201527f6368616e6765557365724b6579000000000000000000000000000000000000006060830152516000805160206106ce8339815191529181900360800190a1565b61069d600554600160a060020a031681565b6100fb600435600554600160a060020a039081163390911614156101ec5760058054600160a060020a0319168217905550565b6100fb600435600554600160a060020a039081163390911614156101ec5760038054600160a060020a0319908116909155600280549091168217905550565b6100fb600435600254600160a060020a039081163390911614156101ec57600a54420160045560038054600160a060020a031916821790556040805133600160a060020a031660208201528181526011818301527f7369676e557365724b65794368616e6765000000000000000000000000000000606082015290516000805160206106ce8339815191529181900360800190a150565b6106ba60075481565b6100fb60075442901080156105125750600654600160a060020a0316600014155b156106cc576006805460058054600160a060020a0319908116600160a060020a03841617909155169055565b604080516020600460443581810135601f81018490048402850184019095528484526100fb94823594602480359560649492939190920191819084018382808284375094965050505050505060025433600160a060020a039081169116141561066b57600160009054906101000a9004600160a060020a0316600160a060020a031663d7f31eb98484846040518460e060020a0281526004018084600160a060020a03168152602001838152602001806020018281038252838181518152602001915080519060200190808383829060006004602084601f0104600302600f01f150905090810190601f1680156106495780820380516001836020036101000a031916815260200191505b509450505050506000604051808303816000876161da5a03f115610002575050505b505050565b61069d600154600160a060020a031681565b61069d600854600160a060020a031681565b6106ba600a5481565b60408051600160a060020a03929092168252519081900360200190f35b60408051918252519081900360200190f35b56ea8e84a162c4602ea0c61acf85fa1242db8ce550e7a448d613e3c7dff2f06793",
    address: "",
    generated_with: "2.0.9",
    contract_name: "RecoverableController"
  };

  function Contract() {
    if (Contract.Pudding == null) {
      throw new Error("RecoverableController error: Please call load() first before creating new instance of this contract.");
    }

    Contract.Pudding.apply(this, arguments);
  };

  Contract.load = function(Pudding) {
    Contract.Pudding = Pudding;

    Pudding.whisk(contract_data, Contract);

    // Return itself for backwards compatibility.
    return Contract;
  }

  Contract.new = function() {
    if (Contract.Pudding == null) {
      throw new Error("RecoverableController error: Please call load() first before calling new().");
    }

    return Contract.Pudding.new.apply(Contract, arguments);
  };

  Contract.at = function() {
    if (Contract.Pudding == null) {
      throw new Error("RecoverableController error: Please call load() first before calling at().");
    }

    return Contract.Pudding.at.apply(Contract, arguments);
  };

  Contract.deployed = function() {
    if (Contract.Pudding == null) {
      throw new Error("RecoverableController error: Please call load() first before calling deployed().");
    }

    return Contract.Pudding.deployed.apply(Contract, arguments);
  };

  if (typeof module != "undefined" && typeof module.exports != "undefined") {
    module.exports = Contract;
  } else {
    // There will only be one version of Pudding in the browser,
    // and we can use that.
    window.RecoverableController = Contract;
  }

})();
